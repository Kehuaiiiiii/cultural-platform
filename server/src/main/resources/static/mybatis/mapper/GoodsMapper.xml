<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.platform.mapper.GoodsMapper">
    <!--<select id="getAllGoods" parameterType="Integer" resultType="Goods">
        select * from goods limit #{min},#{max}
    </select>-->
    <select id="getGoods"  resultType="Goods">
        select * from goods <if test="name!=null||name!=''">where goods_name like "%${name}%"</if>  limit #{min},#{max}
    </select>

    <!--<select id="getAllTotal" resultType="Integer">
        select count(*) from goods 
    </select>-->

    <select id="getTotal" parameterType="String" resultType="Integer">
        select count(*) from goods <if test="name!=null||name!=''">where goods_name like "%${name}%"</if>
    </select>

    <insert id="addGoods" parameterType="Goods">
        insert into goods values(null,#{goods_name},#{goods_price},#{goods_number},#{goods_weight},#{goods_state},#{goods_introduce},#{add_time},#{upd_time},#{version_id},#{pics})
    </insert>

    <update id="updateGoods" parameterType="Goods">
        update goods set goods_name=#{goods_name},goods_price=#{goods_price},
        goods_number=#{goods_number},goods_weight=#{goods_weight},goods_introduce=#{goods_introduce},
        upd_time=#{upd_time},version_id=#{version_id},pics=#{pics} where goods_id=#{goods_id}
    </update>

    <delete id="deleteGoods" parameterType="Integer">
        delete from goods where goods_id=#{id}
    </delete>
</mapper>